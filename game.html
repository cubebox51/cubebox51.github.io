<html><head></head><body>


<canvas id="gameCanvas" width="800" height="600"> 
</canvas>


<script>
document.onkeydown = checkKey;
var rightkey = 0
var leftkey = 0
var left1 = 0
var right1 = 0
var down1 = 0
var up1 = 0
var headX = 340
var headY = 300
var tail1X = 340
var tail1Y = 300

var tail2X = 340
var tail2Y = 300

var tail3X = 340
var tail3Y = 300

var tail4X = 440
var tail4Y = 300
var appleX = Math.floor(Math.random() * 39) * 20
var appleY = Math.floor(Math.random() * 29) * 20
var score = 0
var canvas;
var canvasContext;

window.onload = function () {
canvas = document.getElementById('gameCanvas');
canvasContext = canvas.getContext('2d');
	var fps = 7;
setInterval(function() { move(); draw(); apple(); }, 1000/fps);
}

//End Of Function

function apple() {
if (headX == appleX && headY == appleY) {
appleX = Math.floor(Math.random() * 39) * 20
appleY = Math.floor(Math.random() * 29) * 20
score = score + 1
}





}

//End Of Function

function checkKey(e) {

    e = e || window.event;
    if (e.keyCode == '37') {
       // left arrow
	console.log("left")
	right1 = 0
	up1 = 0
	down1 = 0
	left1 = 1

}

    else if (e.keyCode == '39') {
       // right arrow
	console.log("right")
	left1 = 0
	up1 = 0
	down1 = 0
	right1 = 1
}	
	else if (e.keyCode == '38') {
       // up arrow
	console.log("up")
	right1 = 0
	left1 = 0
	down1 = 0
	up1 = 1

}

    else if (e.keyCode == '40') {
       // down arrow
	console.log("down")
	right1 = 0
	left1 = 0
	up1 = 0
	down1 = 1

    
}

}

//End Of Function

function draw() {
canvasContext.fillStyle = 'black';
canvasContext.fillRect(0,0,canvas.width,canvas.height);

canvasContext.fillStyle = 'red';
canvasContext.fillRect(headX,headY,20,20);

if (score > 0) {
canvasContext.fillStyle = 'blue';
canvasContext.fillRect(tail1X,tail1Y,20,20);
}

if (score > 1) {
canvasContext.fillStyle = 'green';
canvasContext.fillRect(tail2X,tail2Y,20,20);
}

if (score > 2) {
canvasContext.fillStyle = 'yellow';
canvasContext.fillRect(tail3X,tail3Y,20,20);
}

canvasContext.fillStyle = 'gray';
canvasContext.fillRect(appleX,appleY,20,20);


}

//End Of Function

function move() {

if (left1 == 1) {
	headX = headX - 20
	setTimeout(function(){
	if (tail1Y > headY) {
	tail1Y = tail1Y - 20
	}
	else if (tail1Y < headY)
	tail1Y = tail1Y + 20
	else {
	tail1X = tail1X - 20
	}
}, 100);
	setTimeout(function(){
	if (tail2Y > tail1Y) {
	tail2Y = tail2Y - 20
	}
	else if (tail2Y < tail1Y)
	tail2Y = tail2Y + 20
	else {
	tail2X = tail2X - 20
	}
}, 200);
	setTimeout(function(){
	if (tail3Y > tail2Y) {
	tail3Y = tail3Y - 20
	}
	else if (tail3Y < tail2Y)
	tail3Y = tail3Y + 20
	else {
	tail3X = tail3X - 20
	}
}, 300);
	setTimeout(function(){
	if (tail4Y > tail3Y) {
	tail4Y = tail4Y - 20
	}
	else if (tail4Y < tail3Y)
	tail4Y = tail4Y + 20
	else {
	tail4X = tail4X - 20
	}
}, 400);
}




if (right1 == 1) {
	headX = headX + 20
	setTimeout(function(){
	if (tail1Y > headY) {
	tail1Y = tail1Y - 20
	}
	else if (tail1Y < headY)
	tail1Y = tail1Y + 20
	else {
	tail1X = tail1X + 20
	}
}, 100);
	setTimeout(function(){
	if (tail2Y > tail1Y) {
	tail2Y = tail2Y - 20
	}
	else if (tail2Y < tail1Y)
	tail2Y = tail2Y + 20
	else {
	tail2X = tail2X + 20
	}
}, 200);
	setTimeout(function(){
	if (tail3Y > tail2Y) {
	tail3Y = tail3Y - 20
	}
	else if (tail3Y < tail2Y)
	tail3Y = tail3Y + 20
	else {
	tail3X = tail3X + 20
	}
}, 300);
}



if (up1 == 1) {
	headY = headY - 20
	setTimeout(function(){
	if (tail1X > headX) {
	tail1X = tail1X - 20
	}
	else if (tail1X < headX)
	tail1X = tail1X + 20
	else {
	tail1Y = tail1Y - 20
	}
}, 100);
setTimeout(function(){
	if (tail2X > tail1X) {
	tail2X = tail2X - 20
	}
	else if (tail2X < tail1X)
	tail2X = tail2X + 20
	else {
	tail2Y = tail2Y - 20
	}
}, 200);
setTimeout(function(){
	if (tail3X > tail2X) {
	tail3X = tail3X - 20
	}
	else if (tail3X < tail2X)
	tail3X = tail3X + 20
	else {
	tail3Y = tail3Y - 20
	}
}, 300);
}




if (down1 == 1) {
	headY = headY + 20
	setTimeout(function(){
	if (tail1X > headX) {
	tail1X = tail1X - 20
	}
	else if (tail1X < headX)
	tail1X = tail1X + 20
	else {
	tail1Y = tail1Y + 20
	}
	}, 100);
	setTimeout(function(){
	if (tail2X > tail1X) {
	tail2X = tail2X - 20
	}
	else if (tail2X < tail1X)
	tail2X = tail2X + 20
	else {
	tail2Y = tail2Y + 20
	}
	}, 200);
	setTimeout(function(){
	if (tail3X > tail2X) {
	tail3X = tail3X - 20
	}
	else if (tail3X < tail2X)
	tail3X = tail3X + 20
	else {
	tail3Y = tail3Y + 20
	}
	}, 300);

}

}


</script>


<style>
html{
  background-image: url("https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQoUPxKcJVwiqU7X60sAPTT_qz4YWQ9m1mafqPuOjDzMEcZH0D5dg");
  }
 </style>
</body></html>
